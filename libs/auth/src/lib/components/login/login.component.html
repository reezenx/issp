<div class="blank-layout-container justify-content-center align-items-center">
  <div
    class="position-relative row w-100 h-100 bg-gredient justify-content-center"
  >
    <div class="col-lg-4 d-flex align-items-center">
      <mat-card class="cardWithShadow boxed-auth">
        <mat-card-content class="p-32">
          <div class="main-logos d-flex justify-content-center">
            <a href="https://www.bagongpilipinastayo.com/" target="_blank">
              <img
                src="./assets/images/logos/bagong-pilipinas.svg"
                class="align-middle m-2"
                alt="logo"
              />
            </a>
            <a href="https://dict.gov.ph/" target="_blank">
              <img
                src="./assets/images/logos/dict.svg"
                class="align-middle m-2"
                alt="logo"
              />
            </a>
          </div>

          <div class="text-center">
            @if(options.theme === 'light') {
            <a [routerLink]="['/']">
              <img
                src="./assets/images/logos/dark-logo.svg"
                class="align-middle m-2 w-50"
                alt="logo"
              />
            </a>
            } @if(options.theme === 'dark') {
            <a [routerLink]="['/']">
              <img
                src="./assets/images/logos/light-logo.svg"
                class="align-middle m-2"
                alt="logo"
              />
            </a>
            }
          </div>

          <form class="m-t-30" [formGroup]="form" (ngSubmit)="submit()">
            <mat-form-field
              appearance="outline"
              class="w-100 m-b-20"
              color="primary"
            >
              <mat-label class="mat-subtitle-2 f-w-600">Email</mat-label>
              <input #email matInput type="text" formControlName="email" />
              <mat-icon matPrefix class="op-5">
                <i-tabler name="user" class="icon-20 d-flex"></i-tabler>
              </mat-icon>
              <button
                mat-icon-button
                matSuffix
                type="button"
                class="m-r-4"
                (click)="email.value = ''"
                [attr.aria-label]="'Clear Email'"
                [disabled]="!email.value"
              >
                <mat-icon class="op-5">
                  <i-tabler name="backspace" class="icon-20 d-flex"></i-tabler>
                </mat-icon>
              </button>
              @if(f['email'].touched && f['email'].invalid) {
              <mat-hint [align]="'end'" class="m-b-16 error-msg">
                @if(f['email'].errors && f['email'].errors['required']) {
                <div class="text-error">Email is required.</div>
                } @if(f['email'].errors && f['email'].errors['email']) {
                <div class="text-error">
                  Email should be in format (name&#64;agency.com)
                </div>
                }
              </mat-hint>
              }
            </mat-form-field>
            <mat-form-field
              appearance="outline"
              class="w-100 m-b-20"
              color="primary"
            >
              <mat-label class="mat-subtitle-2 f-w-600">Password</mat-label>
              <input
                matInput
                #password
                [type]="hide ? 'password' : 'text'"
                formControlName="password"
              />
              <mat-icon matPrefix class="op-5">
                <i-tabler name="lock" class="icon-20 d-flex"></i-tabler>
              </mat-icon>
              <button
                mat-icon-button
                matSuffix
                type="button"
                class="m-r-4"
                (click)="hide = !hide"
                [attr.aria-label]="hide ? 'Show password' : 'Hide password'"
                [attr.aria-pressed]="hide"
                [title]="hide ? 'Show password' : 'Hide password'"
                [disabled]="!password.value"
              >
                <mat-icon class="op-5">{{
                  hide ? 'visibility_off' : 'visibility'
                }}</mat-icon>
              </button>
              @if(f['password'].touched && f['password'].invalid) {
              <mat-hint [align]="'end'" class="m-b-16 error-msg">
                @if(f['password'].errors && f['password'].errors['required']) {
                <div class="text-error">Password is required.</div>
                }
              </mat-hint>
              }
            </mat-form-field>

            <div class="d-flex align-items-center m-b-12">
              <mat-checkbox formControlName="rememberMe" color="primary"
                >Remember this Device</mat-checkbox
              >
              <a
                [routerLink]="['/auth/forgot-pwd']"
                class="text-primary f-w-600 text-decoration-none m-l-auto f-s-14"
                >Forgot Password ?</a
              >
            </div>
            <button
              mat-flat-button
              color="primary"
              class="w-100"
              type="submit"
              [disabled]="!form.valid || loading"
            >
              <span *ngIf="!loading"> Sign In </span>
              <mat-spinner
                class="w-100 d-flex justify-content-center"
                diameter="20"
                *ngIf="loading"
              ></mat-spinner>
            </button>
          </form>
          <span class="d-block f-w-500 text-center m-t-24"
            >New to ISSP?
            <a
              [routerLink]="['/auth/register']"
              class="text-decoration-none text-primary f-w-500 f-s-14"
            >
              Create an account</a
            >
          </span>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
