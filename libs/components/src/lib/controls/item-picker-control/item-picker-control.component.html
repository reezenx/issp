<mat-form-field
  appearance="outline"
  class="w-100"
  color="primary"
  hintLabel="{{ fieldHint }}"
>
  <mat-label class="mat-subtitle-2 f-w-600">{{ fieldName }}</mat-label>
  <input
    [attr.data-test]="id"
    type="text"
    matInput
    #cnt
    [formControl]="searchControl"
    [matAutocomplete]="itemAutoComplete"
    [placeholder]="placeholder"
  />

  <mat-autocomplete
    #itemAutoComplete="matAutocomplete"
    [displayWith]="displayFn"
    (optionSelected)="onOptionSelected($event)"
  >
    @for(option of itemsFilteredOptions$ | async; track option.id) {
    <mat-option [value]="option">
      <ng-container *ngIf="displayCode; else hiddenCode">
        ({{ option.code }}) {{ option.name }}
      </ng-container>
      <ng-template #hiddenCode>
        {{ option.name }}
      </ng-template>
    </mat-option>
    }
  </mat-autocomplete>
</mat-form-field>
